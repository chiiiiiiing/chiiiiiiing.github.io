<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>基于哈希表的用户数据管理系统 | Chiiiiiiing Blog</title><meta name="author" content="Chiiiiiiing"><meta name="copyright" content="Chiiiiiiing"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="利用sha-256哈希函数实现用户数据的安全存储和管理。（兼顾性能与安全性） 结构与函数 c语言独立实现的sha-256 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374">
<meta property="og:type" content="article">
<meta property="og:title" content="基于哈希表的用户数据管理系统">
<meta property="og:url" content="https://chiiiiiiing.github.io/2025/11/19/%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="Chiiiiiiing Blog">
<meta property="og:description" content="利用sha-256哈希函数实现用户数据的安全存储和管理。（兼顾性能与安全性） 结构与函数 c语言独立实现的sha-256 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://chiiiiiiing.github.io/images/p1.jpg">
<meta property="article:published_time" content="2025-11-19T02:00:00.000Z">
<meta property="article:modified_time" content="2025-12-16T13:09:10.838Z">
<meta property="article:author" content="Chiiiiiiing">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://chiiiiiiing.github.io/images/p1.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "基于哈希表的用户数据管理系统",
  "url": "https://chiiiiiiing.github.io/2025/11/19/%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/",
  "image": "https://chiiiiiiing.github.io/images/p1.jpg",
  "datePublished": "2025-11-19T02:00:00.000Z",
  "dateModified": "2025-12-16T13:09:10.838Z",
  "author": [
    {
      "@type": "Person",
      "name": "Chiiiiiiing",
      "url": "https://chiiiiiiing.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://chiiiiiiing.github.io/2025/11/19/%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3-b1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000000')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '基于哈希表的用户数据管理系统',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div id="web_bg" style="background: blank;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/p1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post type-文章" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/images/p1.jpg" alt="Logo"><span class="site-name">Chiiiiiiing Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">基于哈希表的用户数据管理系统</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">基于哈希表的用户数据管理系统</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-11-19T02:00:00.000Z" title="发表于 2025-11-19 10:00:00">2025-11-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-16T13:09:10.838Z" title="更新于 2025-12-16 21:09:10">2025-12-16</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>利用sha-256哈希函数实现用户数据的安全存储和管理。（兼顾性能与安全性）</p>
<h1>结构与函数</h1>
<h2 id="c语言独立实现的sha-256">c语言独立实现的sha-256</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> uint8;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span>  uint32;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> uint64;  <span class="comment">// 修正：原 uint64 定义为 unsigned long，VS 中需用 unsigned long long 适配 64 位</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHA256_BLOCK_SIZE 32  <span class="comment">// SHA256 输出 32 字节摘要</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHA256_CHUNK_SIZE 64  <span class="comment">// 512 比特 = 64 字节（分块处理单位）</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    uint8 data[SHA256_CHUNK_SIZE];</span><br><span class="line">    uint32 datalen;</span><br><span class="line">    uint64 bitlen;</span><br><span class="line">    uint32 state[<span class="number">8</span>];</span><br><span class="line">&#125; SHA256_CTX;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SHA-256 固定常量（算法标准定义）</span></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> uint32 k[<span class="number">64</span>] = &#123;</span><br><span class="line">    <span class="number">0x428a2f98</span>,<span class="number">0x71374491</span>,<span class="number">0xb5c0fbcf</span>,<span class="number">0xe9b5dba5</span>,<span class="number">0x3956c25b</span>,<span class="number">0x59f111f1</span>,<span class="number">0x923f82a4</span>,<span class="number">0xab1c5ed5</span>,</span><br><span class="line">    <span class="number">0xd807aa98</span>,<span class="number">0x12835b01</span>,<span class="number">0x243185be</span>,<span class="number">0x550c7dc3</span>,<span class="number">0x72be5d74</span>,<span class="number">0x80deb1fe</span>,<span class="number">0x9bdc06a7</span>,<span class="number">0xc19bf174</span>,</span><br><span class="line">    <span class="number">0xe49b69c1</span>,<span class="number">0xefbe4786</span>,<span class="number">0x0fc19dc6</span>,<span class="number">0x240ca1cc</span>,<span class="number">0x2de92c6f</span>,<span class="number">0x4a7484aa</span>,<span class="number">0x5cb0a9dc</span>,<span class="number">0x76f988da</span>,</span><br><span class="line">    <span class="number">0x983e5152</span>,<span class="number">0xa831c66d</span>,<span class="number">0xb00327c8</span>,<span class="number">0xbf597fc7</span>,<span class="number">0xc6e00bf3</span>,<span class="number">0xd5a79147</span>,<span class="number">0x06ca6351</span>,<span class="number">0x14292967</span>,</span><br><span class="line">    <span class="number">0x27b70a85</span>,<span class="number">0x2e1b2138</span>,<span class="number">0x4d2c6dfc</span>,<span class="number">0x53380d13</span>,<span class="number">0x650a7354</span>,<span class="number">0x766a0abb</span>,<span class="number">0x81c2c92e</span>,<span class="number">0x92722c85</span>,</span><br><span class="line">    <span class="number">0xa2bfe8a1</span>,<span class="number">0xa81a664b</span>,<span class="number">0xc24b8b70</span>,<span class="number">0xc76c51a3</span>,<span class="number">0xd192e819</span>,<span class="number">0xd6990624</span>,<span class="number">0xf40e3585</span>,<span class="number">0x106aa070</span>,</span><br><span class="line">    <span class="number">0x19a4c116</span>,<span class="number">0x1e376c08</span>,<span class="number">0x2748774c</span>,<span class="number">0x34b0bcb5</span>,<span class="number">0x391c0cb3</span>,<span class="number">0x4ed8aa4a</span>,<span class="number">0x5b9cca4f</span>,<span class="number">0x682e6ff3</span>,</span><br><span class="line">    <span class="number">0x748f82ee</span>,<span class="number">0x78a5636f</span>,<span class="number">0x84c87814</span>,<span class="number">0x8cc70208</span>,<span class="number">0x90befffa</span>,<span class="number">0xa4506ceb</span>,<span class="number">0xbef9a3f7</span>,<span class="number">0xc67178f2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 循环右移函数</span></span><br><span class="line"><span class="type">static</span> uint32 <span class="title function_">rotr</span><span class="params">(uint32 x, uint32 n)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (x &gt;&gt; n) | (x &lt;&lt; (<span class="number">32</span> - n));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 选择函数</span></span><br><span class="line"><span class="type">static</span> uint32 <span class="title function_">ch</span><span class="params">(uint32 x, uint32 y, uint32 z)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (x &amp; y) ^ (~x &amp; z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  Majority 函数</span></span><br><span class="line"><span class="type">static</span> uint32 <span class="title function_">maj</span><span class="params">(uint32 x, uint32 y, uint32 z)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (x &amp; y) ^ (x &amp; z) ^ (y &amp; z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  sigma0 函数</span></span><br><span class="line"><span class="type">static</span> uint32 <span class="title function_">sigma0</span><span class="params">(uint32 x)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rotr(x, <span class="number">2</span>) ^ rotr(x, <span class="number">13</span>) ^ rotr(x, <span class="number">22</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  sigma1 函数</span></span><br><span class="line"><span class="type">static</span> uint32 <span class="title function_">sigma1</span><span class="params">(uint32 x)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rotr(x, <span class="number">6</span>) ^ rotr(x, <span class="number">11</span>) ^ rotr(x, <span class="number">25</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  gamma0 函数</span></span><br><span class="line"><span class="type">static</span> uint32 <span class="title function_">gamma0</span><span class="params">(uint32 x)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rotr(x, <span class="number">7</span>) ^ rotr(x, <span class="number">18</span>) ^ (x &gt;&gt; <span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  gamma1 函数</span></span><br><span class="line"><span class="type">static</span> uint32 <span class="title function_">gamma1</span><span class="params">(uint32 x)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rotr(x, <span class="number">17</span>) ^ rotr(x, <span class="number">19</span>) ^ (x &gt;&gt; <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化 SHA-256 上下文</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">sha256_init</span><span class="params">(SHA256_CTX* ctx)</span> &#123;</span><br><span class="line">    ctx-&gt;datalen = <span class="number">0</span>;</span><br><span class="line">    ctx-&gt;bitlen = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 初始哈希值（算法标准定义，来自无理数小数部分）</span></span><br><span class="line">    ctx-&gt;state[<span class="number">0</span>] = <span class="number">0x6a09e667</span>;</span><br><span class="line">    ctx-&gt;state[<span class="number">1</span>] = <span class="number">0xbb67ae85</span>;</span><br><span class="line">    ctx-&gt;state[<span class="number">2</span>] = <span class="number">0x3c6ef372</span>;</span><br><span class="line">    ctx-&gt;state[<span class="number">3</span>] = <span class="number">0xa54ff53a</span>;</span><br><span class="line">    ctx-&gt;state[<span class="number">4</span>] = <span class="number">0x510e527f</span>;</span><br><span class="line">    ctx-&gt;state[<span class="number">5</span>] = <span class="number">0x9b05688c</span>;</span><br><span class="line">    ctx-&gt;state[<span class="number">6</span>] = <span class="number">0x1f83d9ab</span>;</span><br><span class="line">    ctx-&gt;state[<span class="number">7</span>] = <span class="number">0x5be0cd19</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 更新 SHA-256 计算（输入数据）</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">sha256_update</span><span class="params">(SHA256_CTX* ctx, <span class="type">const</span> uint8 data[], <span class="type">size_t</span> len)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        ctx-&gt;data[ctx-&gt;datalen] = data[i];</span><br><span class="line">        ctx-&gt;datalen++;</span><br><span class="line">        <span class="comment">// 当数据积累到 64 字节（一个分块），开始处理</span></span><br><span class="line">        <span class="keyword">if</span> (ctx-&gt;datalen == SHA256_CHUNK_SIZE) &#123;</span><br><span class="line">            uint32 m[<span class="number">16</span>], w[<span class="number">64</span>];  <span class="comment">// 修正：m 只需 16 个（64字节=16个32位字）</span></span><br><span class="line">            <span class="comment">// 将 64 字节数据转换为 16 个 32 位大端字</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; SHA256_CHUNK_SIZE; j++) &#123;</span><br><span class="line">                m[j / <span class="number">4</span>] |= (uint32)ctx-&gt;data[j] &lt;&lt; (<span class="number">24</span> - (j % <span class="number">4</span>) * <span class="number">8</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 扩展 16 字到 64 字</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">16</span>; j++) w[j] = m[j];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">16</span>; j &lt; <span class="number">64</span>; j++) &#123;</span><br><span class="line">                w[j] = gamma1(w[j - <span class="number">2</span>]) + w[j - <span class="number">7</span>] + gamma0(w[j - <span class="number">15</span>]) + w[j - <span class="number">16</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 压缩循环</span></span><br><span class="line">            uint32 a = ctx-&gt;state[<span class="number">0</span>], b = ctx-&gt;state[<span class="number">1</span>], c = ctx-&gt;state[<span class="number">2</span>], d = ctx-&gt;state[<span class="number">3</span>];</span><br><span class="line">            uint32 e = ctx-&gt;state[<span class="number">4</span>], f = ctx-&gt;state[<span class="number">5</span>], g = ctx-&gt;state[<span class="number">6</span>], h = ctx-&gt;state[<span class="number">7</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">64</span>; j++) &#123;</span><br><span class="line">                uint32 t1 = h + sigma1(e) + ch(e, f, g) + k[j] + w[j];</span><br><span class="line">                uint32 t2 = sigma0(a) + maj(a, b, c);</span><br><span class="line">                h = g; g = f; f = e; e = d + t1;</span><br><span class="line">                d = c; c = b; b = a; a = t1 + t2;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 更新上下文状态</span></span><br><span class="line">            ctx-&gt;state[<span class="number">0</span>] += a; ctx-&gt;state[<span class="number">1</span>] += b; ctx-&gt;state[<span class="number">2</span>] += c; ctx-&gt;state[<span class="number">3</span>] += d;</span><br><span class="line">            ctx-&gt;state[<span class="number">4</span>] += e; ctx-&gt;state[<span class="number">5</span>] += f; ctx-&gt;state[<span class="number">6</span>] += g; ctx-&gt;state[<span class="number">7</span>] += h;</span><br><span class="line">            ctx-&gt;datalen = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ctx-&gt;bitlen += <span class="number">8</span>;  <span class="comment">// 累计输入数据的比特数</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 完成 SHA-256 计算（输出最终哈希值）</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">sha256_final</span><span class="params">(SHA256_CTX* ctx, uint8 hash[])</span> &#123;</span><br><span class="line">    <span class="type">size_t</span> i = ctx-&gt;datalen;</span><br><span class="line">    <span class="comment">// 数据填充（SHA-256 标准填充流程）</span></span><br><span class="line">    <span class="keyword">if</span> (ctx-&gt;datalen &lt; <span class="number">56</span>) &#123;</span><br><span class="line">        ctx-&gt;data[i++] = <span class="number">0x80</span>;  <span class="comment">// 补 1 比特</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt; <span class="number">56</span>) ctx-&gt;data[i++] = <span class="number">0x00</span>;  <span class="comment">// 补 0 比特到 56 字节</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        ctx-&gt;data[i++] = <span class="number">0x80</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; <span class="number">64</span>) ctx-&gt;data[i++] = <span class="number">0x00</span>;</span><br><span class="line">        sha256_update(ctx, ctx-&gt;data, <span class="number">64</span>);  <span class="comment">// 处理当前块</span></span><br><span class="line">        <span class="built_in">memset</span>(ctx-&gt;data, <span class="number">0</span>, <span class="number">56</span>);  <span class="comment">// 重置数据区，准备填充长度</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 填充原始数据长度（64 比特，大端）</span></span><br><span class="line">    uint64 bits = ctx-&gt;bitlen;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">        ctx-&gt;data[<span class="number">56</span> + i] = (uint8)((bits &gt;&gt; (<span class="number">56</span> - i * <span class="number">8</span>)) &amp; <span class="number">0xFF</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    sha256_update(ctx, ctx-&gt;data, <span class="number">64</span>);  <span class="comment">// 处理最后一个块</span></span><br><span class="line">    <span class="comment">// 提取最终哈希值（大端转小端存储）</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">            hash[i * <span class="number">4</span> + j] = (uint8)((ctx-&gt;state[i] &gt;&gt; (<span class="number">24</span> - j * <span class="number">8</span>)) &amp; <span class="number">0xFF</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="密码哈希函数">密码哈希函数</h2>
<p>密码+盐值-&gt;SHA-256 十六进制字符串</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">password_to_hash</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* password, <span class="type">const</span> <span class="type">char</span>* salt, <span class="type">char</span>* pwd_hash)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!password || !salt || !pwd_hash) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 拼接密码和盐值（密码是字符串，盐值是二进制数组）</span></span><br><span class="line">    <span class="type">char</span> input[PASSWORD_LEN + SALT_LEN];</span><br><span class="line">    <span class="type">int</span> pwd_len = <span class="built_in">strlen</span>(password);</span><br><span class="line">    <span class="built_in">memcpy</span>(input, password, pwd_len);          <span class="comment">// 复制密码</span></span><br><span class="line">    <span class="built_in">memcpy</span>(input + pwd_len, salt, SALT_LEN);   <span class="comment">// 拼接盐值（二进制）</span></span><br><span class="line">    <span class="type">int</span> input_len = pwd_len + SALT_LEN;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算 SHA-256 哈希</span></span><br><span class="line">    SHA256_CTX ctx;</span><br><span class="line">    uint8 hash[SHA256_BLOCK_SIZE];</span><br><span class="line">    sha256_init(&amp;ctx);</span><br><span class="line">    sha256_update(&amp;ctx, (uint8*)input, input_len);</span><br><span class="line">    sha256_final(&amp;ctx, hash);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 二进制哈希值 → 十六进制字符串（64 位字符 + 1 结束符）</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; SHA256_BLOCK_SIZE; i++) &#123;</span><br><span class="line">        <span class="built_in">sprintf</span>(pwd_hash + <span class="number">2</span> * i, <span class="string">&quot;%02x&quot;</span>, hash[i]);  <span class="comment">// 1 字节 → 2 位十六进制</span></span><br><span class="line">    &#125;</span><br><span class="line">    pwd_hash[<span class="number">2</span> * SHA256_BLOCK_SIZE] = <span class="string">&#x27;\0&#x27;</span>;  <span class="comment">// 字符串结束符（关键：避免乱码）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数据结构">数据结构</h2>
<h3 id="用户结构体">用户结构体</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">User</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> username[USERNAME_LEN];     </span><br><span class="line">    <span class="type">char</span> salt[SALT_LEN];             </span><br><span class="line">    <span class="type">char</span> password_hash[HASH_STR_LEN];</span><br><span class="line">    <span class="type">int</span> age;                         </span><br><span class="line">    <span class="type">char</span> city[CITY_LEN];             </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">User</span>* <span class="title">next</span>;</span>               </span><br><span class="line">&#125; User;</span><br></pre></td></tr></table></figure>
<h3 id="哈希表结构体">哈希表结构体</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">HashMap</span>&#123;</span></span><br><span class="line">    User** buckets;   </span><br><span class="line">    <span class="type">int</span> user_count;   </span><br><span class="line">    <span class="type">int</span> capacity;     </span><br><span class="line">&#125; HashMap;   </span><br></pre></td></tr></table></figure>
<h2 id="哈希表基本操作">哈希表基本操作</h2>
<h3 id="哈希函数：用户名映射到索引">哈希函数：用户名映射到索引</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">hash_function</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* username, <span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> hash = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (*username != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">        hash = hash * <span class="number">31</span> + *username;  <span class="comment">// 31 是质数，减少冲突</span></span><br><span class="line">        username++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> hash % capacity;  <span class="comment">// 确保索引在桶数组范围内</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="初始化哈希表">初始化哈希表</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">HashMap* <span class="title function_">hashmap_init</span><span class="params">()</span> &#123;</span><br><span class="line">    HashMap* <span class="built_in">map</span> = (HashMap*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(HashMap));</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">map</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;❌ Hashmap memory allocation failed!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">map</span>-&gt;capacity = HASHMAP_CAPACITY;</span><br><span class="line">    <span class="built_in">map</span>-&gt;user_count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 桶数组初始化：所有桶初始为 NULL（无用户）</span></span><br><span class="line">    <span class="built_in">map</span>-&gt;buckets = (User**)<span class="built_in">calloc</span>(<span class="built_in">map</span>-&gt;capacity, <span class="keyword">sizeof</span>(User*));</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">map</span>-&gt;buckets) &#123;</span><br><span class="line">        <span class="built_in">free</span>(<span class="built_in">map</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;❌ Buckets memory allocation failed!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">map</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="查找用户（根据用户名）">查找用户（根据用户名）</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">User* <span class="title function_">hashmap_find_user</span><span class="params">(HashMap* <span class="built_in">map</span>, <span class="type">const</span> <span class="type">char</span>* username)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">map</span> || !username) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> index = hash_function(username, <span class="built_in">map</span>-&gt;capacity);</span><br><span class="line">    User* curr = <span class="built_in">map</span>-&gt;buckets[index];  <span class="comment">// 指向当前桶的链表头</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历链表查找用户名（解决冲突）</span></span><br><span class="line">    <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(curr-&gt;username, username) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> curr;  <span class="comment">// 找到用户</span></span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;  <span class="comment">// 未找到</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="密码加密辅助函数">密码加密辅助函数</h2>
<h3 id="生成随机盐值">生成随机盐值</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">generate_salt</span><span class="params">(<span class="type">char</span>* salt)</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> seed_init = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (!seed_init) &#123;</span><br><span class="line">        srand((<span class="type">unsigned</span> <span class="type">int</span>)time(<span class="literal">NULL</span>));  <span class="comment">// 初始化随机种子（仅一次）</span></span><br><span class="line">        seed_init = <span class="number">1</span>;  <span class="comment">// 避免多次调用重复初始化，导致盐值相同</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; SALT_LEN; i++) &#123;</span><br><span class="line">        salt[i] = rand() % <span class="number">256</span>;  <span class="comment">// 生成 0-255 的随机字节（覆盖所有二进制值）</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="验证密码：输入密码-→-计算哈希-→-与存储的哈希值对比">验证密码：输入密码 → 计算哈希 → 与存储的哈希值对比</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">verify_password</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* input_pwd, <span class="type">const</span> <span class="type">char</span>* salt, <span class="type">const</span> <span class="type">char</span>* stored_hash)</span> &#123;</span><br><span class="line">    <span class="type">char</span> computed_hash[HASH_STR_LEN];</span><br><span class="line">    password_to_hash(input_pwd, salt, computed_hash);  <span class="comment">// 计算输入密码的哈希</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strcmp</span>(computed_hash, stored_hash) == <span class="number">0</span>;    <span class="comment">// 对比哈希值（相同返回 1，不同返回 0）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="核心功能实现">核心功能实现</h2>
<h3 id="注册用户">注册用户</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">user_register</span><span class="params">(HashMap* <span class="built_in">map</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">map</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> username[USERNAME_LEN];</span><br><span class="line">    <span class="type">char</span> password[PASSWORD_LEN];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> city[CITY_LEN];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输入用户信息</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter username: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, username);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter password: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, password);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter age: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;age);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter city: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, city);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检查用户名是否已存在</span></span><br><span class="line">    <span class="keyword">if</span> (hashmap_find_user(<span class="built_in">map</span>, username)) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;❌ Registration failed: Username already exists!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建新用户节点</span></span><br><span class="line">    User* new_user = (User*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(User));</span><br><span class="line">    <span class="keyword">if</span> (!new_user) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;❌ Registration failed: Memory allocation failed!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 填充用户信息</span></span><br><span class="line">    <span class="built_in">strcpy</span>(new_user-&gt;username, username);</span><br><span class="line">    new_user-&gt;age = age;</span><br><span class="line">    <span class="built_in">strcpy</span>(new_user-&gt;city, city);</span><br><span class="line">    new_user-&gt;next = <span class="literal">NULL</span>;  <span class="comment">// 初始无下一个节点</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成盐值 + 加密密码</span></span><br><span class="line">    generate_salt(new_user-&gt;salt);</span><br><span class="line">    password_to_hash(password, new_user-&gt;salt, new_user-&gt;password_hash);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将用户节点插入哈希表（头部插入，效率高）</span></span><br><span class="line">    <span class="type">int</span> index = hash_function(username, <span class="built_in">map</span>-&gt;capacity);</span><br><span class="line">    new_user-&gt;next = <span class="built_in">map</span>-&gt;buckets[index];</span><br><span class="line">    <span class="built_in">map</span>-&gt;buckets[index] = new_user;</span><br><span class="line">    <span class="built_in">map</span>-&gt;user_count++;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;✅ Registration successful!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="用户登录">用户登录</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">user_login</span><span class="params">(HashMap* <span class="built_in">map</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">map</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> username[USERNAME_LEN];</span><br><span class="line">    <span class="type">char</span> password[PASSWORD_LEN];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输入登录信息</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter username: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, username);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter password: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, password);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查找用户</span></span><br><span class="line">    User* user = hashmap_find_user(<span class="built_in">map</span>, username);</span><br><span class="line">    <span class="keyword">if</span> (!user) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;❌ Login failed: Username does not exist!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 验证密码</span></span><br><span class="line">    <span class="keyword">if</span> (verify_password(password, user-&gt;salt, user-&gt;password_hash)) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;✅ Login successful!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;❌ Login failed: Incorrect password!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="查找用户信息">查找用户信息</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">user_search</span><span class="params">(HashMap* <span class="built_in">map</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">map</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> username[USERNAME_LEN];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter username to search: &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, username);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查找用户</span></span><br><span class="line">    User* user = hashmap_find_user(<span class="built_in">map</span>, username);</span><br><span class="line">    <span class="keyword">if</span> (!user) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;❌ Search failed: User not found!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 展示用户信息（哈希值可选项展示，增强安全性）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;✅ Search successful:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Username: %s\n&quot;</span>, user-&gt;username);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Age: %d\n&quot;</span>, user-&gt;age);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;City: %s\n&quot;</span>, user-&gt;city);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Password (SHA-256 hash): %s\n&quot;</span>, user-&gt;password_hash);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="释放哈希表内存（避免内存泄漏）">释放哈希表内存（避免内存泄漏）</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">hashmap_destroy</span><span class="params">(HashMap* <span class="built_in">map</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">map</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 释放每个桶的链表节点</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">map</span>-&gt;capacity; i++) &#123;</span><br><span class="line">        User* curr = <span class="built_in">map</span>-&gt;buckets[i];</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            User* temp = curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(temp);  <span class="comment">// 释放单个用户节点</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(<span class="built_in">map</span>-&gt;buckets);  <span class="comment">// 释放桶数组</span></span><br><span class="line">    <span class="built_in">free</span>(<span class="built_in">map</span>);           <span class="comment">// 释放哈希表结构体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="主程序入口">主程序入口</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 初始化哈希表</span></span><br><span class="line">    HashMap* user_map = hashmap_init();</span><br><span class="line">    <span class="keyword">if</span> (!user_map) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> choice;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// 菜单展示</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n===== User Management System =====\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1. Register\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;2. Login\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3. Search User\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;4. Exit\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Enter your choice (1-4): &quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;choice);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 功能选择</span></span><br><span class="line">        <span class="keyword">switch</span> (choice) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: user_register(user_map); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: user_login(user_map); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: user_search(user_map); <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;👋 Exiting system...\n&quot;</span>);</span><br><span class="line">            hashmap_destroy(user_map);  <span class="comment">// 释放内存</span></span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">default</span>: <span class="built_in">printf</span>(<span class="string">&quot;❌ Invalid choice! Please enter 1-4.\n&quot;</span>); <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 暂停显示结果，避免闪退（VS 控制台专用）</span></span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);  <span class="comment">// 清屏，优化交互体验</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://chiiiiiiing.github.io">Chiiiiiiing</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://chiiiiiiing.github.io/2025/11/19/%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">https://chiiiiiiing.github.io/2025/11/19/%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://chiiiiiiing.github.io" target="_blank">Chiiiiiiing Blog</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/images/p1.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/11/27/markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" title="markdown入门"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">markdown入门</div></div><div class="info-2"><div class="info-item-1">markdown是什么 Markdown是一种轻量级标记语言，允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档。它由约翰·格鲁伯（John Gruber）在2004年创建，旨在使人们能够“以一种易于阅读和编写的纯文本格式编写文档，然后转换成结构化的HTML”。 为什么使用markdown  易读性: Markdown的语法设计简洁明了，使得即使不熟悉Markdown的人也能轻松阅读和理解文档内容。 易写性: Markdown使用简单的标记符号，如#、*、-等，使得编写文档变得快速且高效。 跨平台: Markdown文件是纯文本文件，可以在任何操作系统和文本编辑器中打开和编辑。 可转换性: Markdown可以轻松转换为多种格式，如HTML、PDF等，方便发布和分享。 广泛支持: 许多博客平台、内容管理系统和代码托管服务（如GitHub）都支持Markdown，使其成为编写文档和博客的流行选择。  markdown基本语法 几级标题用几个#号  James表示“你知道的”  几级引用用几个&gt;号   有序列表:  第一项(序号.后加空格)...</div></div></div></a><a class="pagination-related" href="/2025/11/17/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new &quot;My New Post&quot; More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment </div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/p1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Chiiiiiiing</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/chiiiiiiing"><i class="fab fa-github"></i><span>My GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">随便分享点啥</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">结构与函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E7%8B%AC%E7%AB%8B%E5%AE%9E%E7%8E%B0%E7%9A%84sha-256"><span class="toc-number">1.1.</span> <span class="toc-text">c语言独立实现的sha-256</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">密码哈希函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.</span> <span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">1.3.1.</span> <span class="toc-text">用户结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">1.3.2.</span> <span class="toc-text">哈希表结构体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.</span> <span class="toc-text">哈希表基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%EF%BC%9A%E7%94%A8%E6%88%B7%E5%90%8D%E6%98%A0%E5%B0%84%E5%88%B0%E7%B4%A2%E5%BC%95"><span class="toc-number">1.4.1.</span> <span class="toc-text">哈希函数：用户名映射到索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-number">1.4.2.</span> <span class="toc-text">初始化哈希表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E7%94%A8%E6%88%B7%EF%BC%88%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7%E5%90%8D%EF%BC%89"><span class="toc-number">1.4.3.</span> <span class="toc-text">查找用户（根据用户名）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">密码加密辅助函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E7%9B%90%E5%80%BC"><span class="toc-number">1.5.1.</span> <span class="toc-text">生成随机盐值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%81%EF%BC%9A%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81-%E2%86%92-%E8%AE%A1%E7%AE%97%E5%93%88%E5%B8%8C-%E2%86%92-%E4%B8%8E%E5%AD%98%E5%82%A8%E7%9A%84%E5%93%88%E5%B8%8C%E5%80%BC%E5%AF%B9%E6%AF%94"><span class="toc-number">1.5.2.</span> <span class="toc-text">验证密码：输入密码 → 计算哈希 → 与存储的哈希值对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.6.</span> <span class="toc-text">核心功能实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E7%94%A8%E6%88%B7"><span class="toc-number">1.6.1.</span> <span class="toc-text">注册用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">1.6.2.</span> <span class="toc-text">用户登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">1.6.3.</span> <span class="toc-text">查找用户信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E5%93%88%E5%B8%8C%E8%A1%A8%E5%86%85%E5%AD%98%EF%BC%88%E9%81%BF%E5%85%8D%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%EF%BC%89"><span class="toc-number">1.6.4.</span> <span class="toc-text">释放哈希表内存（避免内存泄漏）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3"><span class="toc-number">1.7.</span> <span class="toc-text">主程序入口</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/18/Linux,WSL%E5%8F%8Avim/" title="Linux、WSL与vim">Linux、WSL与vim</a><time datetime="2025-12-18T11:27:00.000Z" title="发表于 2025-12-18 19:27:00">2025-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/28/%E6%88%91%E7%9A%84cs%E8%87%AA%E5%AD%A6%E5%8E%86%E7%A8%8B/" title="我的cs自学历程">我的cs自学历程</a><time datetime="2025-11-28T11:27:00.000Z" title="发表于 2025-11-28 19:27:00">2025-11-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/27/markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" title="markdown入门">markdown入门</a><time datetime="2025-11-27T11:27:00.000Z" title="发表于 2025-11-27 19:27:00">2025-11-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/19/%E5%9F%BA%E4%BA%8E%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" title="基于哈希表的用户数据管理系统">基于哈希表的用户数据管理系统</a><time datetime="2025-11-19T02:00:00.000Z" title="发表于 2025-11-19 10:00:00">2025-11-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/17/hello-world/" title="Hello World">Hello World</a><time datetime="2025-11-17T14:14:14.018Z" title="发表于 2025-11-17 22:14:14">2025-11-17</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Chiiiiiiing</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3-b1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3-b1"></script><script src="/js/main.js?v=5.5.3-b1"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css')
    if (false) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>